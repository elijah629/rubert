import { Move } from "@/lib/cube"
import init, { scramble_3x3x3 } from "@/solver/solver"


export const scramblers: Record<string, () => (Move[] | Promise<Move[]>)> = {
    "3x3x3": async () => { 
		// Ensure WASM module is loaded
		await init();
		return Array.from(scramble_3x3x3());
	},
    "PLL": () => rand(pll) 
}

function rand<T>(arr: T[]): T {
   return arr[Math.floor(Math.random() * arr.length)];
}

// Converted https://jperm.net/lib/pll.js's scrambles to the move enum
// Used `JSON.stringify(ALGS.flat().map(x => x.split(" ").map(x => "Move." + (x.includes("'") ? x.replace("'", "3") : !x.includes("2") ? x + "1" : x)))).replaceAll("\"", "");`
const pll = [[Move.R1,Move.L1,Move.D2,Move.R1,Move.L1,Move.D2,Move.R2,Move.B2,Move.D2,Move.B2,Move.L2,Move.F2,Move.U2,Move.R2,Move.F2,Move.U2],[Move.F1,Move.B1,Move.D2,Move.F1,Move.B1,Move.D2,Move.F2,Move.R2,Move.D2,Move.R2,Move.B2,Move.L2,Move.U2,Move.F2,Move.L2,Move.U2],[Move.B1,Move.F1,Move.D2,Move.B1,Move.F1,Move.D2,Move.B2,Move.L2,Move.D2,Move.L2,Move.F2,Move.R2,Move.U2,Move.B2,Move.R2,Move.U2],[Move.L1,Move.R1,Move.D2,Move.L1,Move.R1,Move.D2,Move.L2,Move.F2,Move.D2,Move.F2,Move.R2,Move.B2,Move.U2,Move.L2,Move.B2,Move.U2],[Move.R1,Move.L1,Move.U2,Move.R1,Move.L3,Move.U3,Move.R2,Move.U3,Move.R2,Move.U3,Move.R2,Move.U3,Move.R2,Move.U3,Move.R2,Move.B2,Move.R2,Move.B2],[Move.F1,Move.B1,Move.U2,Move.F1,Move.B3,Move.U1,Move.R2,Move.F2,Move.R2,Move.U1,Move.F2,Move.U1,Move.R2,Move.F2,Move.R2,Move.U1,Move.F2,Move.U3],[Move.B1,Move.F1,Move.U2,Move.B1,Move.F3,Move.U1,Move.L2,Move.B2,Move.L2,Move.U1,Move.B2,Move.U1,Move.L2,Move.B2,Move.L2,Move.U1,Move.B2,Move.U3],[Move.L1,Move.R1,Move.U2,Move.L1,Move.R3,Move.U3,Move.L2,Move.U3,Move.L2,Move.U3,Move.L2,Move.U3,Move.L2,Move.U3,Move.L2,Move.F2,Move.L2,Move.F2],[Move.F2,Move.D1,Move.F2,Move.R2,Move.F2,Move.D1,Move.R2,Move.F2,Move.D2,Move.F2,Move.B2,Move.L2,Move.B2,Move.R2,Move.D2,Move.R2],[Move.R2,Move.U3,Move.B2,Move.R2,Move.B2,Move.U1,Move.B2,Move.R2,Move.B2,Move.U2,Move.B2,Move.U2,Move.R2,Move.B2,Move.R2,Move.U2,Move.B2],[Move.R2,Move.U3,Move.F2,Move.R2,Move.F2,Move.U1,Move.R3,Move.L1,Move.F2,Move.D2,Move.B2,Move.U2,Move.R1,Move.L1,Move.B2,Move.D2],[Move.R2,Move.D3,Move.R2,Move.F2,Move.R2,Move.D1,Move.R1,Move.L3,Move.F2,Move.D2,Move.B2,Move.U2,Move.R3,Move.L3,Move.B2,Move.D2],[Move.F2,Move.U3,Move.L2,Move.F2,Move.L2,Move.U1,Move.F2,Move.L2,Move.U2,Move.L2,Move.F2,Move.L2,Move.U2,Move.F2,Move.L2,Move.U2,Move.F2],[Move.F2,Move.D3,Move.F2,Move.R2,Move.B2,Move.U1,Move.R1,Move.D2,Move.F2,Move.B2,Move.U2,Move.L3,Move.F2,Move.R2,Move.U2,Move.B2,Move.U2],[Move.F2,Move.D3,Move.F2,Move.L2,Move.F2,Move.D1,Move.F2,Move.L2,Move.D2,Move.L2,Move.B2,Move.R2,Move.U2,Move.F2,Move.R2,Move.U2,Move.B2],[Move.L2,Move.U1,Move.B2,Move.L2,Move.B2,Move.U1,Move.B2,Move.U2,Move.B2,Move.U2,Move.L2,Move.B2,Move.L2,Move.U2,Move.L2,Move.U2],[Move.R1,Move.L1,Move.U2,Move.R1,Move.L3,Move.U1,Move.F2,Move.U2,Move.R2,Move.F2,Move.R2,Move.U3,Move.B2,Move.U3,Move.F2,Move.U1,Move.R2,Move.B2],[Move.F1,Move.B1,Move.U2,Move.F1,Move.B1,Move.L2,Move.U1,Move.R2,Move.B2,Move.U1,Move.L2,Move.U3,Move.B2,Move.R2,Move.U3,Move.L2,Move.F2,Move.B2],[Move.B1,Move.F1,Move.U2,Move.B1,Move.F1,Move.R2,Move.U1,Move.F2,Move.L2,Move.D1,Move.B2,Move.U3,Move.F2,Move.R2,Move.D3,Move.R2,Move.B2,Move.F2],[Move.L1,Move.R1,Move.U2,Move.L1,Move.R3,Move.D1,Move.F2,Move.D3,Move.F2,Move.U2,Move.L2,Move.F2,Move.L2,Move.U1,Move.L2,Move.U1,Move.L2,Move.F2],[Move.R1,Move.L1,Move.U2,Move.R1,Move.L1,Move.U3,Move.D3,Move.F2,Move.D1,Move.L2,Move.F2,Move.D1,Move.B2,Move.D3,Move.F2,Move.L2,Move.U3,Move.L2],[Move.F1,Move.B1,Move.U2,Move.F1,Move.B3,Move.R2,Move.U1,Move.L2,Move.U3,Move.B2,Move.U2,Move.B2,Move.L2,Move.F2,Move.D1,Move.L2,Move.D1,Move.L2],[Move.B1,Move.F1,Move.U2,Move.B3,Move.F1,Move.R2,Move.U1,Move.L2,Move.U3,Move.B2,Move.U2,Move.B2,Move.L2,Move.F2,Move.D1,Move.L2,Move.D1,Move.L2],[Move.L1,Move.R1,Move.U2,Move.L1,Move.R1,Move.U3,Move.D3,Move.B2,Move.D1,Move.B2,Move.R2,Move.U1,Move.L2,Move.U3,Move.R2,Move.B2,Move.U3,Move.R2],[Move.R1,Move.L1,Move.F2,Move.R1,Move.L3,Move.U3,Move.L2,Move.D2,Move.F2,Move.U3,Move.B2,Move.U3,Move.R2,Move.F2,Move.D2,Move.B2,Move.U3,Move.R2],[Move.F1,Move.B1,Move.L2,Move.F3,Move.B3,Move.L2,Move.U1,Move.R2,Move.D3,Move.L2,Move.B2,Move.L2,Move.D1,Move.R2,Move.U1,Move.F2,Move.U2,Move.L2],[Move.B1,Move.F1,Move.R2,Move.B3,Move.F3,Move.R2,Move.U1,Move.L2,Move.D3,Move.R2,Move.F2,Move.R2,Move.D1,Move.L2,Move.U1,Move.B2,Move.U2,Move.R2],[Move.L1,Move.R1,Move.B2,Move.L1,Move.R3,Move.U3,Move.R2,Move.D2,Move.B2,Move.U3,Move.F2,Move.U3,Move.L2,Move.B2,Move.D2,Move.F2,Move.U3,Move.L2],[Move.R1,Move.L3,Move.F2,Move.R1,Move.L3,Move.U3,Move.R2,Move.U3,Move.R2,Move.L2,Move.F2,Move.U1,Move.L2,Move.D3,Move.B2,Move.D1,Move.L2,Move.F2],[Move.F1,Move.B1,Move.D2,Move.F1,Move.B3,Move.D3,Move.L2,Move.B2,Move.D3,Move.L2,Move.B2,Move.U3,Move.F2,Move.L2,Move.R2,Move.U1,Move.L2,Move.D3],[Move.B1,Move.F1,Move.D2,Move.B3,Move.F1,Move.D3,Move.R2,Move.L2,Move.F2,Move.U1,Move.B2,Move.L2,Move.D1,Move.B2,Move.L2,Move.U1,Move.L2,Move.D3],[Move.L1,Move.R3,Move.B2,Move.L1,Move.R3,Move.U1,Move.R2,Move.U1,Move.L2,Move.R2,Move.B2,Move.U3,Move.L2,Move.D1,Move.F2,Move.D3,Move.L2,Move.B2],[Move.R1,Move.L1,Move.U2,Move.R1,Move.L3,Move.B2,Move.U1,Move.R2,Move.F2,Move.B2,Move.U3,Move.L2,Move.U1,Move.L2,Move.B2,Move.D1,Move.F2,Move.U3],[Move.F1,Move.B1,Move.U2,Move.F1,Move.B3,Move.U1,Move.F2,Move.D3,Move.F2,Move.D1,Move.R2,Move.F2,Move.L2,Move.B2,Move.D1,Move.B2,Move.L2,Move.U1],[Move.B1,Move.F1,Move.U2,Move.B3,Move.F1,Move.U1,Move.R2,Move.B2,Move.D1,Move.B2,Move.D3,Move.L2,Move.U1,Move.F2,Move.R2,Move.B2,Move.R2,Move.D1],[Move.L1,Move.R1,Move.U2,Move.L3,Move.R1,Move.B2,Move.U1,Move.L2,Move.U3,Move.R2,Move.U1,Move.R2,Move.F2,Move.D1,Move.F2,Move.L2,Move.R2,Move.U3],[Move.R1,Move.L1,Move.U2,Move.R1,Move.L1,Move.U1,Move.D3,Move.F2,Move.U3,Move.F2,Move.D1,Move.R2,Move.D3,Move.F2,Move.D1,Move.L2,Move.U2],[Move.F1,Move.B1,Move.U2,Move.F1,Move.B1,Move.U1,Move.L2,Move.U1,Move.B2,Move.U3,Move.L2,Move.R2,Move.F2,Move.U1,Move.F2,Move.U3,Move.L2,Move.D1],[Move.B1,Move.F1,Move.U2,Move.B1,Move.F1,Move.U1,Move.L2,Move.U1,Move.B2,Move.U3,Move.R2,Move.L2,Move.F2,Move.U1,Move.F2,Move.U3,Move.L2,Move.D1],[Move.L1,Move.R1,Move.U2,Move.L1,Move.R1,Move.U1,Move.D3,Move.F2,Move.U3,Move.F2,Move.D1,Move.R2,Move.D3,Move.F2,Move.D1,Move.L2,Move.U2],[Move.R1,Move.L1,Move.U2,Move.R1,Move.L3,Move.U3,Move.R2,Move.L2,Move.B2,Move.U1,Move.L2,Move.D3,Move.R2,Move.F2,Move.B2,Move.D1,Move.R2,Move.U2],[Move.F1,Move.B1,Move.U2,Move.F1,Move.B1,Move.U1,Move.R2,Move.U3,Move.L2,Move.U1,Move.F2,Move.U3,Move.L2,Move.D1,Move.B2,Move.D3,Move.F2,Move.B2],[Move.B1,Move.F1,Move.U2,Move.B1,Move.F1,Move.U1,Move.R2,Move.U3,Move.L2,Move.U1,Move.F2,Move.U3,Move.L2,Move.D1,Move.B2,Move.D3,Move.B2,Move.F2],[Move.L1,Move.R1,Move.U2,Move.L1,Move.R3,Move.D3,Move.L2,Move.F2,Move.U3,Move.L2,Move.U1,Move.R2,Move.U3,Move.B2,Move.R2,Move.F2,Move.L2,Move.U2],[Move.R1,Move.L1,Move.U2,Move.R1,Move.L3,Move.U1,Move.L2,Move.U3,Move.L2,Move.D1,Move.F2,Move.D3,Move.F2,Move.R2,Move.L2,Move.F2,Move.L2,Move.U2],[Move.F1,Move.B1,Move.U2,Move.F1,Move.B1,Move.L2,Move.U3,Move.F2,Move.R2,Move.D3,Move.F2,Move.D1,Move.L2,Move.D3,Move.R2,Move.F2],[Move.B1,Move.F1,Move.U2,Move.B1,Move.F1,Move.L2,Move.U3,Move.F2,Move.R2,Move.D3,Move.F2,Move.D1,Move.L2,Move.D3,Move.R2,Move.F2],[Move.L1,Move.R1,Move.U2,Move.L1,Move.R3,Move.U1,Move.L2,Move.B2,Move.L2,Move.R2,Move.D1,Move.B2,Move.D3,Move.F2,Move.D1,Move.R2,Move.F2,Move.U2],[Move.R1,Move.L1,Move.F2,Move.R1,Move.L1,Move.U1,Move.R2,Move.U3,Move.L2,Move.F2,Move.U3,Move.F2,Move.U1,Move.F2,Move.R2,Move.U3,Move.R2,Move.F2],[Move.F1,Move.B1,Move.L2,Move.F1,Move.B3,Move.U2,Move.F2,Move.U1,Move.F2,Move.U3,Move.R2,Move.B2,Move.U3,Move.L2,Move.U1,Move.B2,Move.D3,Move.R2],[Move.B1,Move.F1,Move.R2,Move.B3,Move.F3,Move.U3,Move.R2,Move.U1,Move.R2,Move.D3,Move.R2,Move.D2,Move.B2,Move.U1,Move.B2,Move.D3,Move.R2],[Move.L1,Move.R1,Move.B2,Move.L3,Move.R1,Move.D1,Move.B2,Move.U2,Move.F2,Move.R2,Move.F2,Move.U1,Move.L2,Move.U1,Move.R2,Move.U3,Move.F2,Move.U1],[Move.R1,Move.L1,Move.B2,Move.R3,Move.L3,Move.U3,Move.L2,Move.U3,Move.L2,Move.U1,Move.B2,Move.D1,Move.B2,Move.D3,Move.R2,Move.U1,Move.R2,Move.U1],[Move.F1,Move.B1,Move.U2,Move.F1,Move.B3,Move.U3,Move.L2,Move.U1,Move.R2,Move.D3,Move.R2,Move.U3,Move.B2,Move.D1,Move.R2,Move.D3,Move.L2,Move.U3],[Move.B1,Move.F1,Move.U2,Move.B3,Move.F1,Move.U3,Move.L2,Move.U1,Move.R2,Move.D3,Move.R2,Move.U3,Move.B2,Move.D1,Move.R2,Move.D3,Move.L2,Move.U3],[Move.L1,Move.R1,Move.B2,Move.L3,Move.R3,Move.U3,Move.L2,Move.U3,Move.L2,Move.U1,Move.B2,Move.D1,Move.B2,Move.D3,Move.R2,Move.U1,Move.R2,Move.U1],[Move.F1,Move.B1,Move.U2,Move.F1,Move.B1,Move.U1,Move.F2,Move.U2,Move.L2,Move.U3,Move.L2,Move.F2,Move.U2,Move.F2,Move.U1,Move.L2,Move.U2,Move.B2],[Move.L1,Move.R1,Move.U2,Move.L1,Move.R1,Move.U1,Move.B2,Move.U2,Move.L2,Move.D3,Move.L2,Move.F2,Move.D2,Move.F2,Move.U1,Move.R2,Move.U2,Move.F2],[Move.R1,Move.L1,Move.U2,Move.R1,Move.L1,Move.U1,Move.B2,Move.U2,Move.L2,Move.D3,Move.L2,Move.F2,Move.D2,Move.F2,Move.U1,Move.R2,Move.U2,Move.F2],[Move.B1,Move.F1,Move.U2,Move.B1,Move.F1,Move.U1,Move.F2,Move.U2,Move.L2,Move.U3,Move.L2,Move.F2,Move.U2,Move.F2,Move.U1,Move.L2,Move.U2,Move.B2],[Move.R1,Move.L3,Move.U2,Move.R3,Move.L1,Move.U2,Move.F2,Move.L2,Move.U3,Move.L2,Move.U2,Move.F2,Move.U1,Move.L2,Move.U2,Move.L2,Move.F2,Move.U3],[Move.F1,Move.B3,Move.U2,Move.F3,Move.B1,Move.U2,Move.L2,Move.B2,Move.U3,Move.B2,Move.U2,Move.L2,Move.U1,Move.B2,Move.U2,Move.B2,Move.L2,Move.U1],[Move.B1,Move.F3,Move.U2,Move.B3,Move.F1,Move.U2,Move.R2,Move.F2,Move.U3,Move.F2,Move.U2,Move.R2,Move.U1,Move.F2,Move.U2,Move.F2,Move.R2,Move.U1],[Move.L1,Move.R3,Move.U2,Move.L3,Move.R1,Move.U2,Move.B2,Move.R2,Move.U3,Move.R2,Move.U2,Move.B2,Move.U1,Move.R2,Move.U2,Move.R2,Move.B2,Move.U3],[Move.R1,Move.L3,Move.U2,Move.R3,Move.L1,Move.U2,Move.F2,Move.R2,Move.U1,Move.R2,Move.U2,Move.F2,Move.U3,Move.R2,Move.U2,Move.R2,Move.F2,Move.U1],[Move.F1,Move.B3,Move.U2,Move.F3,Move.B1,Move.U2,Move.L2,Move.F2,Move.U1,Move.F2,Move.U2,Move.L2,Move.U3,Move.F2,Move.U2,Move.F2,Move.L2,Move.U3],[Move.B1,Move.F3,Move.U2,Move.B3,Move.F1,Move.U2,Move.R2,Move.B2,Move.U1,Move.B2,Move.U2,Move.R2,Move.U3,Move.B2,Move.U2,Move.B2,Move.R2,Move.U3],[Move.L1,Move.R3,Move.U2,Move.L3,Move.R1,Move.U2,Move.B2,Move.L2,Move.U1,Move.L2,Move.U2,Move.B2,Move.U3,Move.L2,Move.U2,Move.L2,Move.B2,Move.U1],[Move.R1,Move.L1,Move.U2,Move.R3,Move.L1,Move.F2,Move.U3,Move.B2,Move.R2,Move.F2,Move.L2,Move.D3,Move.R2,Move.D1,Move.L2,Move.D3,Move.B2,Move.U1],[Move.F1,Move.B1,Move.U2,Move.F1,Move.B3,Move.L2,Move.R2,Move.U3,Move.R2,Move.U1,Move.F2,Move.U3,Move.R2,Move.D1,Move.F2,Move.B2,Move.R2,Move.D3],[Move.B1,Move.F1,Move.U2,Move.B1,Move.F3,Move.U3,Move.B2,Move.L2,Move.U3,Move.L2,Move.U1,Move.F2,Move.U3,Move.B2,Move.U1,Move.F2,Move.L2,Move.B2],[Move.L1,Move.R1,Move.U2,Move.L1,Move.R3,Move.F2,Move.U3,Move.B2,Move.R2,Move.F2,Move.L2,Move.D3,Move.R2,Move.D1,Move.L2,Move.D3,Move.B2,Move.U1],[Move.R1,Move.L1,Move.U2,Move.R1,Move.L1,Move.F2,Move.U1,Move.L2,Move.U3,Move.R2,Move.U1,Move.B2,Move.R2,Move.D1,Move.B2,Move.R2,Move.U1],[Move.F1,Move.B1,Move.U2,Move.F1,Move.B3,Move.U3,Move.R2,Move.F2,Move.U3,Move.F2,Move.U1,Move.F2,Move.R2,Move.D1,Move.R2,Move.D3],[Move.B1,Move.F1,Move.U2,Move.B1,Move.F3,Move.U1,Move.D3,Move.R2,Move.U3,Move.F2,Move.U1,Move.B2,Move.U3,Move.B2,Move.D1,Move.L2,Move.U3,Move.R2],[Move.L1,Move.R1,Move.U2,Move.L1,Move.R1,Move.F2,Move.U1,Move.L2,Move.U3,Move.R2,Move.U1,Move.B2,Move.R2,Move.D1,Move.B2,Move.R2,Move.U1],[Move.R1,Move.L1,Move.U2,Move.R1,Move.L3,Move.B2,Move.U1,Move.R2,Move.F2,Move.L2,Move.B2,Move.U1,Move.B2,Move.U3,Move.L2,Move.D1,Move.F2,Move.U3],[Move.F1,Move.B1,Move.U2,Move.F1,Move.B3,Move.U1,Move.L2,Move.B2,Move.R2,Move.B2,Move.L2,Move.D3,Move.F2,Move.D1,Move.R2,Move.U3,Move.F2,Move.U1],[Move.B1,Move.F1,Move.U2,Move.B1,Move.F3,Move.U1,Move.R2,Move.U3,Move.B2,Move.U1,Move.R2,Move.D3,Move.B2,Move.L2,Move.U3,Move.B2,Move.L2,Move.F2],[Move.L1,Move.R1,Move.U2,Move.L3,Move.R1,Move.B2,Move.U1,Move.L2,Move.U3,Move.L2,Move.D1,Move.F2,Move.D3,Move.L2,Move.R2,Move.B2,Move.L2,Move.U3],[Move.R1,Move.L1,Move.U2,Move.R1,Move.L3,Move.F2,Move.U1,Move.F2,Move.U3,Move.L2,Move.U1,Move.R2,Move.L2,Move.B2,Move.R2,Move.D1,Move.B2,Move.U3],[Move.F1,Move.B1,Move.U2,Move.F1,Move.B3,Move.D3,Move.L2,Move.U1,Move.L2,Move.B2,Move.D1,Move.F2,Move.D3,Move.B2,Move.D1,Move.R2,Move.F2,Move.R2],[Move.B1,Move.F1,Move.U2,Move.B1,Move.F3,Move.U1,Move.B2,Move.R2,Move.U1,Move.R2,Move.U3,Move.F2,Move.U1,Move.B2,Move.U3,Move.B2,Move.R2,Move.F2],[Move.L1,Move.R1,Move.U2,Move.L1,Move.R3,Move.F2,Move.U1,Move.B2,Move.U3,Move.R2,Move.U1,Move.B2,Move.L2,Move.B2,Move.F2,Move.D1,Move.B2,Move.U3]];
